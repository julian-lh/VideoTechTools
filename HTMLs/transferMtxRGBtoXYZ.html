<!DOCTYPE html>
<html>
<head>
  <script language="JavaScript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.2.1/math.js"></script>
</head>
<body>
  <p id="result">loading result...</p>
  <script>
  function generateRGBToXYZMatrix(rx, ry, gx, gy, bx, by, wX, wY, wZ) {
  	// Anhlehnung an http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html
    const X = (x, y) => x/y;
    const Z = (x, y) => (1 - x - y)/y;

    const Xr = X(rx, ry);
    const Xg = X(gx, gy);
    const Xb = X(bx, by);
    const Yr = 1;
    const Yg = 1;
    const Yb = 1;
    const Zr = Z(rx, ry);
    const Zg = Z(gx, gy);
    const Zb = Z(bx, by);

    const wMtx = [wX, wY, wZ];
    const mtx1 = [[Xr, Xg, Xb],
    			  [1, 1, 1],
                  [Zr, Zg, Zb]];
	const invMtx1 = math.inv(mtx1);

    const s = math.multiply(invMtx1, wMtx);

    const transferMtx = [[s[0] * Xr, s[1] * Xg, s[2] * Xb],
    					 [s[0] * Yr, s[1] * Yg, s[2] * Yb],
                         [s[0] * Zr, s[1] * Zg, s[2] * Zb]];
    return transferMtx;
	};

  const transferMtx = generateRGBToXYZMatrix(0.64, 0.33, 0.3, 0.6, 0.15, 0.06, 0.95047, 1, 1.08883);
  document.getElementById("result").textContent = JSON.stringify(transferMtx);
  </script>
</body>
</html>